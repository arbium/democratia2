@using Federation.Web.ViewModels
@model GroupPrivacyViewModel
@{
    ViewBag.Title = "Настройки приватности";
}

@*<script type="text/javascript">
    $(function () {
        invisibleChck();
        
        $("input[name=IsInvisible]").click(function () {
            invisibleChck();
        });
    });
    
    function invisibleChck() {
        if ($("input[name=IsInvisible]").attr("checked")) {
            $("input[name=IsMemberModeration]").attr("disabled", "disabled");
            $("input[name=IsMemberModeration]").attr("checked", "checked");
            $("input[name=IsPrivateDiscussion]").attr("disabled", "disabled");
            $("input[name=IsPrivateDiscussion]").attr("checked", "checked"); 
        } else {
            $("input[name=IsMemberModeration]").attr("disabled", null);
            $("input[name=IsPrivateDiscussion]").attr("disabled", null);
        }
    }
</script>*@

<div class="layout_pageheader"></div>
<div class="layout_sidemenu">
    @Html.Partial("_NavigationBox", new _NavigationBoxViewModel(Model.GroupId, NavigationBoxType.Group))
</div>
<div class="layout_content">
    <div class="lighttabs_container">
        <ul class="lighttabs">
            <li>
                <a class="back">◄</a>
            </li>
            <li>
                <a class="selected">@ViewBag.Title</a>
            </li>
        </ul>
        <div class="lighttabs_border"></div>
    </div>
    <div class="body">
        <div class="styled_form">
            @if (!string.IsNullOrEmpty(ViewBag.ValidationExceptionText))
            {
                <div class="validation_block">
                    @ViewBag.ValidationExceptionText
                </div>
            }
            @using (Html.BeginForm())
            {
                <div class="form_block">
                    @Html.HiddenFor(m => m.GroupId)
                    @Html.HiddenFor(m => m.GroupUrl)
                    @Html.HiddenFor(m => m.GroupName)
                    <div class="input_block">
                        <div class="title">
                            @Html.LabelFor(m => m.IsMemberModeration)
                        </div>
                        @Html.CheckBoxFor(m => m.IsMemberModeration)
                        @Html.ValidationMessageFor(m => m.IsMemberModeration)
                    </div>
                    <div class="input_block separator">
                        <div class="title">
                            @Html.LabelFor(m => m.IsContentModeration)
                        </div>
                        @Html.CheckBoxFor(m => m.IsContentModeration)
                        @Html.ValidationMessageFor(m => m.IsContentModeration)
                    </div>
                    <div class="input_block separator">
                        <div class="title">
                            @Html.LabelFor(m => m.IsPrivateDiscussion)
                        </div>
                        @Html.CheckBoxFor(m => m.IsPrivateDiscussion)
                        @Html.ValidationMessageFor(m => m.IsPrivateDiscussion)
                    </div>
                </div>
                <div class="submit_block">
                    <input type="submit" value="Сохранить" />
                </div>
            }
        </div>
    </div>
</div>